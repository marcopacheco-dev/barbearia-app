<h3 class="titulo-agenda mt-4 mb-3">Agenda Semanal - ðŸ’ˆ Guile BarberShop ðŸ’ˆ</h3>

<div class="tabela-wrapper">
  <div class="tabela-container">
    <table mat-table [dataSource]="horariosDisponiveis" class="mat-elevation-z8 full-width-table" multiTemplateDataRows>

      <!-- Coluna: HorÃ¡rio (fixa) -->
      <ng-container matColumnDef="horario">
        <th mat-header-cell *matHeaderCellDef sticky class="horario-header">HorÃ¡rio</th>
        <td mat-cell *matCellDef="let horario" sticky class="horario-cell">
          <strong class="horario-text">{{ horario }}</strong>
        </td>
      </ng-container>

      <!-- Colunas dinÃ¢micas para os dias da semana -->
      <ng-container *ngFor="let dia of diasSemana; let i = index" [matColumnDef]="'dia' + i">
        <th mat-header-cell *matHeaderCellDef>
          {{ dia | date: 'EEE dd/MM' : undefined : 'pt-BR' }}
        </th>
        <td mat-cell *matCellDef="let horario">
          <ng-container *ngIf="temAgendamento(dia, horario); else disponivel">
            <div class="agendamento-cell">
              <span class="cliente-nome">{{ getNomeCliente(dia, horario) }}</span>
              <button mat-icon-button class="botao-vermelho" aria-label="Cancelar agendamento" (click)="cancelarAgendamento(dia, horario)">
                <mat-icon>cancel</mat-icon>
              </button>
            </div>
          </ng-container>
          <ng-template #disponivel>
            <span class="disponivel-status">DisponÃ­vel</span>
          </ng-template>
        </td>
      </ng-container>

      <!-- Linhas -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="linha-final"></tr>
      
    </table>
  </div>
</div>
